---
title:   TokuDB
layout: post
category: cloud
---
###前言
<p> TokuDB 开源了。这里收集一些关于TokuDB的文档。</p>

###阅读材料
[TokuDB Homepage](http://www.tokutek.com/2013/04/announcing-tokudb-v7-open-source-and-more/ "Announcing TokuDB v7: Open Source and More")

<p> 存储设备 </p>
<ul>
<li> Hard Disk, 顺序读写性能优于随机读写性能, 为存储引擎优化指明了方向。 </li>
<li> SSD </li>
</ul>


### B-Trees
<p> B-Trees 的特点 </p>
<ul>
<li> B-Tress are Fast at Sequential Inserts. </li>
<li> B-Tress are Slow at High entropy  Inserts. </li>
<li> Range queries in newly built B-Trees have good locality, however, inaged one have poor locality. </li>
</ul>

<p> 对于B-Treess而言，顺序插入，根据数据局部性原理，大部分节点在内存中，插入节点省去了很多次IO。而随机插入，失去了数据局部性特征，增加了大量IO，开销变大。对于Range queries而言，新创建的B-Trees表现良好的性能，但是随着B-Trees运行时间的增长，磁盘碎片越来越多，性能就严重下降。</p>

为什么使用B-Trees作索引，容易产生磁盘碎片？我们知道数据都存储在leaf node上，leaf对key的数量有控制，但是对key对应的数据大小无限制。这样就出现了leaf node的大小并不受控制。随着时间推移，就出现了磁盘碎片了。

### LMS-Trees

### Fractal Tree

[Fractal trees](http://tokutek.com/downloads/mysqluc-2010-fractal-trees.pdf "fractal trees")

[Fractal Trees 2](http://www.bnl.gov/csc/seminars/abstracts/Bender_Presentation.pdf "fractal trees")
