<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<meta http-equiv="content-type" content="text/html;charset=utf-8" />
		<title>C++ 异常安全 - xanpeng</title>
		<link rel="stylesheet" type="text/css" href="/css/style.css" />
		<link rel="stylesheet" type="text/css" href="/css/syntax.css" />
	</head>

	<body>
		<div id="wrapper">
			<div id="content">
				<h2>C++ 异常安全</h2>
				<div class="cnt">
					<p>异常安全<br/>
　　basic guarantee: 无资源泄露.<br/>
　　strong guarantee: 事务级别.<br/>
　　参考 <a href="http://www.gotw.ca/gotw/059.htm">Exception-safe class design</a><br/>
　　　　 <a href="http://en.wikibooks.org/wiki/More_C++_Idioms/Copy-and-swap">copy-and-swap idioms</a></p>

<p>Nothrow guarantee<br/>
　　保证某些函数是不会抛异常的. 这是实现 strong guarantee 的保障.</p>

<p>exception-safe assignment<br/>
　　使用 copy-and-swap idom, 先创建临时对象, 再调用 nothrow 的 swap 函数.<br/>
　　　　Type temp(s);<br/>
　　　　swap(this, temp);</p>

					--EOF--
				</div>
				<div id="disqus_thread"></div>
				<script type="text/javascript">
				  (function() {
				   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
				   dsq.src = 'http://xanpeng.disqus.com/embed.js';
				   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
				  })();
				</script>
				<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=lzyyblog">comments powered by Disqus.</a></noscript>
			</div>
	</body>
</html>

