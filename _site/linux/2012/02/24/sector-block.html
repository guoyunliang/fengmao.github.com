<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<meta http-equiv="content-type" content="text/html;charset=utf-8" />
		<title>扇区(sector), 物理/逻辑块(block) - xanpeng</title>
		<link rel="stylesheet" type="text/css" href="/css/style.css" />
		<link rel="stylesheet" type="text/css" href="/css/syntax.css" />
	</head>

	<body>
		<div id="wrapper">
			<div id="content">
				<h2>扇区(sector), 物理/逻辑块(block)</h2>
				<div class="cnt">
					<p>涉及文件系统,操作系统,硬盘的时候,我们会接触到扇区(sector),物理块(physical block),逻辑块(logical block)的概念.它们究竟是什么意思?</p>

<p><strong>扇区(sector)</strong><br/>
磁盘的最小寻址单元,一般大小为512bytes,但在2009年,西部数据提出使用4096bytes的扇区.<a href="http://en.wikipedia.org/wiki/Cylinder-head-sector#cite_ref-2">[1]</a><a href="http://en.wikipedia.org/wiki/Disk_sector">[2]</a>
sector在磁盘上对应于每一个"圆环"的一段.</p>

<p><strong>物理块(physical block)</strong><br/>
实际上,我并没有在网络上看到很多的"物理块"的说法,这里暂且这么说.<br/>
观点1:物理块由一个或多个sector组成(<a href="http://help.filemaker.com/app/answers/detail/a_id/3815/~/drive-blocks-vs.-sectors---explained">sector and block explained</a>).<br/>
观点2:(physical) block==sector (<a href="http://superuser.com/questions/121252/how-do-i-find-the-hardware-block-read-size-for-my-hard-drive">How Do I Find The Hardware Block Read Size for My Hard Drive?</a>)<br/>
观点2的一个佐证:</p>

<pre><code>xan@xmachine:~$ cat /sys/block/sda/queue/physical_block_size
**512**
xan@xmachine:~$
</code></pre>

<p><strong>逻辑块(logical block)</strong><br/>
这个好理解了,逻辑块是文件系统层面的概念,它表示FS对底层存储的处理方式.<br/>
获取filesyste block size的方法:</p>

<pre><code>xan@xmachine:~$ sudo dumpe2fs /dev/sda1 | grep -i 'Block size'
dumpe2fs 1.41.14 (22-Dec-2010)
Block size:               4096
xan@xmachine:~$ 
</code></pre>

<p>在mount文件系统的时候可以指定该值,man mount得到:</p>

<blockquote><p>bs=value
Give blocksize. Allowed values are 512, 1024, 2048, 4096.</p></blockquote>

					--EOF--
				</div>
				<div id="disqus_thread"></div>
				<script type="text/javascript">
				  (function() {
				   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
				   dsq.src = 'http://xanpeng.disqus.com/embed.js';
				   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
				  })();
				</script>
				<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=lzyyblog">comments powered by Disqus.</a></noscript>
			</div>
	</body>
</html>

