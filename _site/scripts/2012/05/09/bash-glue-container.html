<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<meta http-equiv="content-type" content="text/html;charset=utf-8" />
		<title>bash scripts - glue & container - xanpeng</title>
		<link rel="stylesheet" type="text/css" href="/css/style.css" />
		<link rel="stylesheet" type="text/css" href="/css/syntax.css" />
	</head>

	<body>
		<div id="wrapper">
			<div id="content">
				<h2>bash scripts - glue & container</h2>
				<div class="cnt">
					<p>Linux/Unix 的哲学是: KISS. -- <em>没错, 就是一定要先找一个恋人, 然后 KISS...</em><br/>
所以你会遇到多个<strong>小而精</strong>程序, 比如 /bin 下面.<br/>
我们自己写程序的时候, 也强烈推荐参考这种思路.</p>

<p>但总有一些任务, 涉及多个小程序的多个功能. 此时, 我们可以通过 shell(一般是 bash) scripts 去胶合(glue)这些小功能, 或者试想象一下: shell script 是一个容器(container), 我们把小程序扔进去, 放到固定的位置(就像拼图), 然后得到一个"大程序".</p>

<p>下面是一个示例, 用到的思路和技巧:<br/>
1. 用 mktemp 创建临时文件(<a href="http://www.cyberciti.biz/tips/shell-scripting-bash-how-to-create-temporary-random-file-name.html">ref</a>)<br/>
2. 重定向 stderr/stdout 到临时文件.<br/>
3. split string.</p>

<script src="https://gist.github.com/2643359.js"> </script>


					--EOF--
				</div>
				<div id="disqus_thread"></div>
				<script type="text/javascript">
				  (function() {
				   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
				   dsq.src = 'http://xanpeng.disqus.com/embed.js';
				   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
				  })();
				</script>
				<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=lzyyblog">comments powered by Disqus.</a></noscript>
			</div>
	</body>
</html>

